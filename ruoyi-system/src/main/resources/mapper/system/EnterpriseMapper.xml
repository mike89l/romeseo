<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ruoyi.system.mapper.EnterpriseMapper">

    <resultMap type="enterprise" id="EnterpriseResult">
        <id     property="enterpriseId"       column="enterprise_id"      />
        <result property="enterpriseName"       column="enterprise_name"      />
        <result property="enterpriseType"     column="enterprise_type"    />
        <result property="enterpriseUrl"     column="enterprise_url"    />
        <result property="status"     column="status"    />
        <result property="delFlag"     column="del_flag"    />
        <result property="createTime"     column="create_time"    />
        <result property="updateTime"     column="update_time"    />
    </resultMap>

    <select id="selectEnterprise" resultMap="EnterpriseResult">
        select enterprise_id,enterprise_name,enterprise_type,enterprise_url,keyword,status,del_flag,create_time,update_time from enterprise
        where del_flag = '0'
        <if test="enterpriseId != null and enterpriseId != ''">
            AND enterprise_id = #{enterpriseId}
        </if>
        <if test="enterpriseName != null and enterpriseName != ''">
            AND enterprise_name = #{enterprise_name}
        </if>
        <if test="enterpriseUrl != null and enterpriseUrl != ''">
            AND enterprise_url = #{enterprise_url}
        </if>
        <if test="status != null and status != ''">
            AND status = #{status}
        </if>
        <if test="params.beginTime != null and params.beginTime != ''"><!-- 开始时间检索 -->
            AND date_format(create_time,'%Y%m%d') &gt;= date_format(#{params.beginTime},'%Y%m%d')
        </if>
        <if test="params.endTime != null and params.endTime != ''"><!-- 结束时间检索 -->
            AND date_format(create_time,'%Y%m%d') &lt;= date_format(#{params.endTime},'%Y%m%d')
        </if>

    </select>




</mapper>